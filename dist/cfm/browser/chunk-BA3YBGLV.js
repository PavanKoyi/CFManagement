import{a as Le,b as qe}from"./chunk-Q4ZFYKBM.js";import{a as oe,b as re,c as ae,d as me,e as le,f as pe,g as se,h as ce,i as de,j as ue,k as j}from"./chunk-TMYIM7FB.js";import{a as _e,b as L}from"./chunk-BIG5SBWC.js";import{a as Re,b as Ve,c as He,d as Be,e as $e,f as Ge}from"./chunk-KGI4YOJ3.js";import{a as N,b as fe,c as D,d as Ce,e as he,f as Me,i as ge,k as E,l as Fe,m as Te,o as Ie,r as ke,s as Oe,u as je,v as Ne}from"./chunk-CMH7VPW4.js";import{Bb as y,Ea as i,Fa as n,Ga as d,Ha as g,I as z,Ia as x,J as K,Jb as O,Jc as ne,Ka as I,Na as S,Nb as te,P as f,Pa as k,Q,Tc as ie,U as v,V as P,Wa as U,Xa as o,Za as _,_c as xe,a as F,ad as h,b as T,cd as Se,dd as ve,eb as C,ed as Pe,fa as l,g as J,ga as M,gd as ye,hb as W,ib as X,id as De,kd as Ee,ld as be,nd as we,ua as c,ub as Y,vb as Z,wa as p,yb as ee}from"./chunk-SBUFGK5X.js";var q=(()=>{let t=class t{constructor(){this.people=[{id:1,name:"John Doe",email:"john@example.com",role:"Consultant",phone:"123-456-7890",joinDate:new Date("2024-01-15"),address:"123 Main St"},{id:2,name:"Jane Smith",email:"jane@example.com",role:"Senior Consultant",phone:"123-456-7891",joinDate:new Date("2023-08-01"),address:"456 Oak St"}],this.peopleSubject=new J(this.people)}getPeople(){return this.peopleSubject.asObservable()}addPerson(a){let r=Math.max(...this.people.map(u=>u.id),0)+1,m=T(F({},a),{id:r});this.people=[...this.people,m],this.peopleSubject.next(this.people)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Xe(e,t){e&1&&(i(0,"mat-header-cell"),o(1," Name "),n())}function Ye(e,t){if(e&1&&(i(0,"mat-cell"),o(1),n()),e&2){let s=t.$implicit;l(),_(" ",s.name," ")}}function Ze(e,t){e&1&&(i(0,"mat-header-cell"),o(1," Email "),n())}function et(e,t){if(e&1&&(i(0,"mat-cell"),o(1),n()),e&2){let s=t.$implicit;l(),_(" ",s.email," ")}}function tt(e,t){e&1&&(i(0,"mat-header-cell"),o(1," Role "),n())}function nt(e,t){if(e&1&&(i(0,"mat-cell"),o(1),n()),e&2){let s=t.$implicit;l(),_(" ",s.role," ")}}function it(e,t){e&1&&(i(0,"mat-header-cell"),o(1," Phone "),n())}function ot(e,t){if(e&1&&(i(0,"mat-cell"),o(1),n()),e&2){let s=t.$implicit;l(),_(" ",s.phone," ")}}function rt(e,t){e&1&&(i(0,"mat-header-cell"),o(1," Join Date "),n())}function at(e,t){if(e&1&&(i(0,"mat-cell"),o(1),W(2,"date"),n()),e&2){let s=t.$implicit;l(),_(" ",X(2,1,s.joinDate)," ")}}function mt(e,t){e&1&&(i(0,"mat-header-cell"),o(1," Actions "),n())}function lt(e,t){if(e&1){let s=I();i(0,"mat-cell")(1,"button",14),S("click",function(){let r=v(s).$implicit,m=k();return P(m.viewPerson(r.id))}),i(2,"mat-icon"),o(3,"visibility"),n()(),i(4,"button",15),S("click",function(){let r=v(s).$implicit,m=k();return P(m.editPerson(r.id))}),i(5,"mat-icon"),o(6,"edit"),n()(),i(7,"button",16),S("click",function(){let r=v(s).$implicit,m=k();return P(m.viewPayments(r.id))}),i(8,"mat-icon"),o(9,"payments"),n()()()}}function pt(e,t){e&1&&d(0,"mat-header-row")}function st(e,t){e&1&&d(0,"mat-row")}var Je=(()=>{let t=class t{constructor(a,r){this.router=a,this.peopleService=r,this.displayedColumns=["name","email","role","phone","joinDate","actions"],this.people=[]}ngOnInit(){this.peopleService.getPeople().subscribe(a=>{this.people=a})}viewPerson(a){this.router.navigate(["/people",a])}editPerson(a){this.router.navigate(["/people",a,"edit"])}viewPayments(a){this.router.navigate(["/people",a,"payments"])}addPerson(){this.router.navigate(["/people/new"])}};t.\u0275fac=function(r){return new(r||t)(M(O),M(q))},t.\u0275cmp=f({type:t,selectors:[["app-people-list"]],standalone:!0,features:[C],decls:29,vars:3,consts:[[1,"people-list-container"],[1,"header"],["mat-raised-button","","color","primary",3,"click"],[3,"dataSource"],["matColumnDef","name"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","email"],["matColumnDef","role"],["matColumnDef","phone"],["matColumnDef","joinDate"],["matColumnDef","actions"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["mat-icon-button","","matTooltip","View Details",3,"click"],["mat-icon-button","","matTooltip","Edit",3,"click"],["mat-icon-button","","matTooltip","Payment History",3,"click"]],template:function(r,m){r&1&&(i(0,"div",0)(1,"div",1)(2,"h2"),o(3,"People"),n(),i(4,"button",2),S("click",function(){return m.addPerson()}),i(5,"mat-icon"),o(6,"add"),n(),o(7," Add Person "),n()(),i(8,"mat-table",3),g(9,4),c(10,Xe,2,0,"mat-header-cell",5)(11,Ye,2,1,"mat-cell",6),x(),g(12,7),c(13,Ze,2,0,"mat-header-cell",5)(14,et,2,1,"mat-cell",6),x(),g(15,8),c(16,tt,2,0,"mat-header-cell",5)(17,nt,2,1,"mat-cell",6),x(),g(18,9),c(19,it,2,0,"mat-header-cell",5)(20,ot,2,1,"mat-cell",6),x(),g(21,10),c(22,rt,2,0,"mat-header-cell",5)(23,at,3,3,"mat-cell",6),x(),g(24,11),c(25,mt,2,0,"mat-header-cell",5)(26,lt,10,0,"mat-cell",6),x(),c(27,pt,1,0,"mat-header-row",12)(28,st,1,0,"mat-row",13),n()()),r&2&&(l(8),p("dataSource",m.people),l(19),p("matHeaderRowDef",m.displayedColumns),l(),p("matRowDefColumns",m.displayedColumns))},dependencies:[y,ee,j,oe,ae,se,me,re,ce,le,pe,de,ue,D,N,fe,L,_e,E,qe,Le],styles:[".people-list-container[_ngcontent-%COMP%]{padding:20px}.people-list-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.people-list-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.people-list-container[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]{width:100%}.people-list-container[_ngcontent-%COMP%]   .mat-column-actions[_ngcontent-%COMP%]{width:120px;text-align:right}"]});let e=t;return e})();var ze=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=f({type:t,selectors:[["app-person-details"]],standalone:!0,features:[C],decls:2,vars:0,template:function(r,m){r&1&&(i(0,"p"),o(1,"person-details works!"),n())}});let e=t;return e})();function ct(e,t){e&1&&(i(0,"mat-error"),o(1," Name is required "),n())}function dt(e,t){e&1&&(i(0,"mat-error"),o(1," Email is required "),n())}function ut(e,t){e&1&&(i(0,"mat-error"),o(1," Please enter a valid email address "),n())}function ft(e,t){if(e&1&&(i(0,"mat-option",18),o(1),n()),e&2){let s=t.$implicit;p("value",s),l(),_(" ",s," ")}}function _t(e,t){e&1&&(i(0,"mat-error"),o(1," Role is required "),n())}function Ct(e,t){e&1&&(i(0,"mat-error"),o(1," Phone is required "),n())}function ht(e,t){e&1&&(i(0,"mat-error"),o(1," Join date is required "),n())}function Mt(e,t){e&1&&(i(0,"mat-error"),o(1," Address is required "),n())}var G=(()=>{let t=class t{constructor(a,r,m){this.fb=a,this.router=r,this.peopleService=m,this.roles=["Consultant","Senior Consultant","Manager","Director","Partner"]}ngOnInit(){this.initializeForm()}initializeForm(){this.personForm=this.fb.group({name:["",h.required],email:["",[h.required,h.email]],role:["",h.required],phone:["",h.required],joinDate:["",h.required],address:["",h.required],notes:[""]})}onSubmit(){if(this.personForm.valid){let a=this.personForm.value;console.log("Form submitted with data:",a),this.peopleService.addPerson(T(F({},a),{joinDate:new Date(a.joinDate)})),console.log("POST request to /api/people"),console.log("Request payload:",JSON.stringify(a,null,2)),this.router.navigate(["/people"])}else console.log("Form is invalid"),this.markFormGroupTouched(this.personForm)}markFormGroupTouched(a){Object.values(a.controls).forEach(r=>{r.markAsTouched(),r instanceof Pe&&this.markFormGroupTouched(r)})}};t.\u0275fac=function(r){return new(r||t)(M(be),M(O),M(q))},t.\u0275cmp=f({type:t,selectors:[["app-person-form"]],standalone:!0,features:[C],decls:52,vars:11,consts:[["joinDatePicker",""],[1,"person-form-container"],[3,"ngSubmit","formGroup"],[1,"form-section"],["appearance","outline"],["matInput","","formControlName","name"],[4,"ngIf"],["matInput","","type","email","formControlName","email"],["formControlName","role"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","phone"],["matInput","","formControlName","joinDate",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","address","rows","3"],["matInput","","formControlName","notes","rows","3"],[1,"form-actions"],["mat-button","","type","button","routerLink","/people"],["mat-raised-button","","color","primary","type","submit"],[3,"value"]],template:function(r,m){if(r&1){let u=I();i(0,"div",1)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title"),o(4,"Add New Person"),n()(),i(5,"mat-card-content")(6,"form",2),S("ngSubmit",function(){return v(u),P(m.onSubmit())}),i(7,"div",3)(8,"mat-form-field",4)(9,"mat-label"),o(10,"Name"),n(),d(11,"input",5),c(12,ct,2,0,"mat-error",6),n(),i(13,"mat-form-field",4)(14,"mat-label"),o(15,"Email"),n(),d(16,"input",7),c(17,dt,2,0,"mat-error",6)(18,ut,2,0,"mat-error",6),n(),i(19,"mat-form-field",4)(20,"mat-label"),o(21,"Role"),n(),i(22,"mat-select",8),c(23,ft,2,2,"mat-option",9),n(),c(24,_t,2,0,"mat-error",6),n(),i(25,"mat-form-field",4)(26,"mat-label"),o(27,"Phone"),n(),d(28,"input",10),c(29,Ct,2,0,"mat-error",6),n(),i(30,"mat-form-field",4)(31,"mat-label"),o(32,"Join Date"),n(),d(33,"input",11)(34,"mat-datepicker-toggle",12)(35,"mat-datepicker",null,0),c(37,ht,2,0,"mat-error",6),n(),i(38,"mat-form-field",4)(39,"mat-label"),o(40,"Address"),n(),d(41,"textarea",13),c(42,Mt,2,0,"mat-error",6),n(),i(43,"mat-form-field",4)(44,"mat-label"),o(45,"Notes"),n(),d(46,"textarea",14),n()(),i(47,"div",15)(48,"button",16),o(49,"Cancel"),n(),i(50,"button",17),o(51," Submit "),n()()()()()()}if(r&2){let u,w,R,V,H,B,$,A=U(36);l(6),p("formGroup",m.personForm),l(6),p("ngIf",(u=m.personForm.get("name"))==null||u.errors==null?null:u.errors.required),l(5),p("ngIf",(w=m.personForm.get("email"))==null||w.errors==null?null:w.errors.required),l(),p("ngIf",(R=m.personForm.get("email"))==null||R.errors==null?null:R.errors.email),l(5),p("ngForOf",m.roles),l(),p("ngIf",(V=m.personForm.get("role"))==null||V.errors==null?null:V.errors.required),l(5),p("ngIf",(H=m.personForm.get("phone"))==null||H.errors==null?null:H.errors.required),l(4),p("matDatepicker",A),l(),p("for",A),l(3),p("ngIf",(B=m.personForm.get("joinDate"))==null||B.errors==null?null:B.errors.required),l(5),p("ngIf",($=m.personForm.get("address"))==null||$.errors==null?null:$.errors.required)}},dependencies:[y,Y,Z,we,ye,xe,Se,ve,De,Ee,Oe,ke,Fe,Te,Ie,Ne,je,Ve,Re,ie,Ge,He,Be,$e,ne,D,N,E,Ce,Me,ge,he],styles:[".person-form-container[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}.person-form-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;margin-bottom:24px}.person-form-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.person-form-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:16px;margin-top:24px}"]});let e=t;return e})();var Ke=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=f({type:t,selectors:[["app-payment-history"]],standalone:!0,features:[C],decls:2,vars:0,template:function(r,m){r&1&&(i(0,"p"),o(1,"payment-history works!"),n())}});let e=t;return e})();var gt=[{path:"",component:Je},{path:"new",component:G},{path:":id",component:ze},{path:":id/edit",component:G},{path:":id/payments",component:Ke}],pn=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({imports:[y,te.forChild(gt),j,D,L,E]});let e=t;return e})();export{pn as PeopleModule};
